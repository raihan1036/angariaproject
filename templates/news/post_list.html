{% extends "base.html" %}
{% load static %}

{% block title %}আমাদের কর্মসূচীসমূহ{% endblock %}

{% block extra_css %}
<style>
    /* --- কমন কন্টেইনার এবং হেডার স্টাইল --- */
    .news-section {
        padding: 60px 0;
        background-color: #f4f7f6; /* হালকা ধূসর ব্যাকগ্রাউন্ড */
    }

    .news-container {
        width: 90%;
        max-width: 1300px;
        margin: 0 auto;
        text-align: center;
    }

    .news-container h1 {
        font-size: 2.8rem;
        color: #0a2540;
        margin-bottom: 20px;
    }
    
    .news-container p.subtitle {
        font-size: 1.1rem;
        color: #555;
        margin-bottom: 50px;
    }

    /* --- নিউজ গ্রিড লেআউট --- */
    .news-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* কার্ডের সাইজ অনুযায়ী কলাম তৈরি হবে */
        gap: 30px;
        justify-content: center;
    }

    /* --- প্রতিটি নিউজ কার্ডের স্টাইল --- */
    .news-card {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08); /* শ্যাডো */
        overflow: hidden; /* ছবি কার্ডের বাইরে না যায় */
        text-align: left;
        display: flex;
        flex-direction: column;
        
        /* --- পপ-আপ অ্যানিমেশন (হোভার এফেক্ট) --- */
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    /* --- হোভার (Hover) এফেক্ট: পপ-আপ এবং শ্যাডো --- */
    .news-card:hover {
        transform: translateY(-10px); /* কার্ডটি সামান্য উপরে উঠবে */
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15); /* ছায়া আরও গভীর হবে */
    }

    /* --- কার্ডের ভেতরের লিঙ্ক যেন পুরো কার্ডটি ক্লিকযোগ্য করে --- */
    .news-card a {
        text-decoration: none;
        color: inherit; /* ডিফল্ট টেক্সট কালার নেবে */
        display: flex; /* ভেতরের কন্টেন্টকে ফ্লেক্স করবে */
        flex-direction: column;
        height: 100%; /* পুরো কার্ড জুড়েই ক্লিকযোগ্য হবে */
    }

    /* --- নিউজ কার্ডের ছবি --- */
    .news-card img {
        width: 100%;
        height: 220px; /* একটি ফিক্সড হাইট দিলাম */
        object-fit: cover; /* ছবি ঠিকভাবে কভার করবে */
        display: block; /* নিচের অতিরিক্ত মার্জিন সরাবে */
    }

    /* --- নিউজ কার্ডের বিষয়বস্তু --- */
    .news-card-content {
        padding: 20px;
        flex-grow: 1; /* বাটনকে নিচে রাখতে সাহায্য করবে */
        display: flex;
        flex-direction: column;
    }

    .news-card-content .post-date {
        font-size: 0.9rem;
        color: #888;
        margin-bottom: 10px;
    }

    .news-card-content h3 {
        font-size: 1.5rem;
        color: #0a2540;
        margin: 0 0 10px 0;
        line-height: 1.3;
    }

    .news-card-content p.short-description {
        color: #555;
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 20px;
        flex-grow: 1; /* বর্ণনা অংশটি স্থান নেবে */
    }

    /* --- "আরো পড়ুন" বাটন/লিঙ্ক --- */
    .read-more-link {
        color: #0070f0;
        font-weight: bold;
        text-decoration: none;
        transition: color 0.3s ease;
    }
    .read-more-link:hover {
        color: #005bb5;
    }
</style>
{% endblock %}

{% block content %}
<section class="news-section">
    <div class="news-container">
        <h1>আমাদের কর্মসূচী</h1>
        <p class="subtitle">আমাদের সাম্প্রতিক কার্যক্রম ও গুরুত্বপূর্ণ খবর সম্পর্কে জানতে পারেন।</p>
        
        <div class="news-grid">
            
            {% for post in posts %}
                <div class="news-card">
        <a href="{% url 'post_detail' post.pk %}">
            
            {% if post.featured_image %}
                <img src="{{ post.featured_image.url }}" alt="{{ post.title }}">
            {% else %}
                <img src="{% static 'images/default_news.png' %}" alt="Default News Image">
            {% endif %}
            
            <div class="news-card-content">
                <p class="post-date">{{ post.published_date|date:"F d, Y" }}</p>
                <h3>{{ post.title }}</h3>
                <p class="short-description">{{ post.content|truncatewords:25 }}</p>
                <span class="read-more-link">আরো পড়ুন &rarr;</span>
            </div>
        </a>
    </div>

{% empty %}
    <p style="text-align: center; grid-column: 1 / -1;">আপাতত কোনো কর্মসূচী পোস্ট করা হয়নি।</p>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock content %}